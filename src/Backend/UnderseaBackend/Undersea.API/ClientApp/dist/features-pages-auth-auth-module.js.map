{"version":3,"sources":["./src/app/features/pages/auth/auth.module.ts","./src/app/features/pages/auth/auth.routing.ts","./src/app/features/pages/auth/components/auth-page/auth-page.component.ts","./src/app/features/pages/auth/components/auth-page/auth-page.component.html"],"names":[],"mappings":"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","file":"features-pages-auth-auth-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AuthRoutingModule } from './auth.routing';\r\nimport { AuthPageComponent } from './components/auth-page/auth-page.component';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\n\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [AuthPageComponent],\r\n  imports: [\r\n    CommonModule,\r\n    AuthRoutingModule,\r\n    SharedModule\r\n  ]\r\n})\r\nexport class AuthModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AuthPageComponent } from './components/auth-page/auth-page.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AuthPageComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AuthRoutingModule { }\r\n","import { Component, OnInit, SystemJsNgModuleLoader } from '@angular/core';\r\nimport { AuthpageService } from '../../service/authpage.service';\r\n\r\nimport { Router } from '@angular/router';\r\nimport { FormGroup, FormControl, Validators, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { error } from '@angular/compiler/src/util';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-auth-page',\r\n  templateUrl: './auth-page.component.html',\r\n  styleUrls: ['./auth-page.component.scss']\r\n})\r\nexport class AuthPageComponent implements OnInit {\r\n\r\n  public isReg = false;\r\n\r\n  loginForm = new FormGroup({\r\n    name: new FormControl('', Validators.required),\r\n    password: new FormControl('', Validators.required),\r\n  });\r\n\r\n  registerForm = new FormGroup({\r\n    name: new FormControl('', Validators.required),\r\n    password: new FormControl('', [\r\n      Validators.required,\r\n      Validators.minLength(8)]),\r\n    password2: new FormControl('',\r\n      Validators.required),\r\n    cityName: new FormControl('', Validators.required),\r\n\r\n  });\r\n\r\n  constructor(private authService: AuthpageService, private router: Router, private snackbar: MatSnackBar) { }\r\n\r\n  ngOnInit(): void {\r\n    localStorage.setItem('token', '');\r\n  }\r\n\r\n  get name() { return this.loginForm.get('name'); }\r\n\r\n  get password() { return this.loginForm.get('password'); }\r\n\r\n  get namer() { return this.registerForm.get('name'); }\r\n\r\n  get passwordr() { return this.registerForm.get('password'); }\r\n\r\n  get passwordr2() { return this.registerForm.get('password2'); }\r\n\r\n  get cityNamer() { return this.registerForm.get('cityName'); }\r\n\r\n\r\n  login() {\r\n    if (this.loginForm.valid) {\r\n      this.authService.login(this.loginForm.value.name, this.loginForm.value.password).subscribe(res => {\r\n\r\n        if (res.token != null) {\r\n\r\n          localStorage.setItem('token', res.token);\r\n          this.router.navigate(['/main']);\r\n        }\r\n\r\n      },\r\n        (err) => {\r\n          this.snackbar.open('Hibás felhasználónév vagy jelszó', 'kuka');\r\n          console.error('HURKAAAAA', err);\r\n        });\r\n\r\n    }\r\n\r\n  }\r\n\r\n\r\n  register() {\r\n\r\n    if (this.registerForm.valid) {\r\n      if (this.registerForm.value.password === this.registerForm.value.password2) {\r\n        this.authService.register(\r\n          this.registerForm.value.name,\r\n          this.registerForm.value.password,\r\n          this.registerForm.value.cityName,\r\n          this.registerForm.value.password2\r\n        ).subscribe(res => {\r\n          if (res.token != null) {\r\n\r\n            localStorage.setItem('token', res.token);\r\n            this.router.navigate(['/main']);\r\n          }\r\n          // tslint:disable-next-line:no-unused-expression\r\n        }, (err) => {\r\n          this.snackbar.open('Hoppá, valami nem jó, próbálj másik névvel regisztrálni', 'kuka');\r\n          console.error('HURKAAAAA', err);\r\n        });\r\n      }\r\n      else {\r\n        this.snackbar.open('A 2 jelszó nem egyezik', 'kuka', {\r\n          duration: 5000\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  changeMode(mode: boolean) {\r\n    this.isReg = mode;\r\n    this.ngOnInit();\r\n  }\r\n\r\n}\r\n","<div class = \"flexbox\">\r\n\r\n  <div style=\"height: 10vh;\"></div>\r\n\r\n  <h2 class = \"title\">Undersea</h2>\r\n\r\n  <mat-card class = \"login-card\">\r\n\r\n    <h2 class=\"card-title\">Belépés</h2>\r\n\r\n      <form *ngIf=\"!isReg\" [formGroup]=\"loginForm\" class=\"auth\" (ngSubmit)=\"login()\">\r\n\r\n          <input  id=\"name\" name=\"name\" type=\"text\" formControlName=\"name\" placeholder=\"Felhasználónév\">\r\n          <div *ngIf=\"name.invalid && (name.dirty || name.touched)\"\r\n            class=\"alert-danger\">\r\n            <div *ngIf=\"name.errors.required\">\r\n              Név kitöltése költelező\r\n            </div>\r\n          </div>\r\n\r\n          <input type=\"password\" formControlName=\"password\" placeholder=\"Jelszó\">\r\n          <div *ngIf=\"name.invalid && (name.dirty || name.touched)\"\r\n            class=\"alert-danger\">\r\n            <div *ngIf=\"name.errors.required\">\r\n              Jelszó kitöltése költelező\r\n            </div>\r\n          </div>\r\n\r\n          <button  class=\"auth-button\" type=\"submit\" [disabled]=\"!loginForm.valid\">Belépés</button>\r\n\r\n      </form>\r\n\r\n      <form *ngIf=\"isReg\" [formGroup]=\"registerForm\" class=\"auth\" (ngSubmit)=\"register()\">\r\n\r\n          <input type=\"text\" formControlName=\"name\" placeholder=\"Felhasználónév\">\r\n          <div *ngIf=\"namer.invalid && (namer.dirty || namer.touched)\"\r\n            class=\"alert-danger\">\r\n            <div *ngIf=\"namer.errors.required\">\r\n              Név kitöltése költelező\r\n            </div>\r\n          </div>\r\n\r\n          <input id=\"password\" class=\"form-control\" type=\"password\" formControlName=\"password\" placeholder=\"Jelszó\" minlength=\"8\">\r\n          <div *ngIf=\"passwordr.invalid && (passwordr.dirty || passwordr.touched)\"\r\n            class=\"alert-danger\">\r\n            <div *ngIf=\"passwordr.errors.required\">\r\n              Jelszó kitöltése költelező\r\n            </div>\r\n            <div *ngIf=\"passwordr.errors.minlength\">\r\n              A jelszó legalább 8 karakter legyen!\r\n            </div>\r\n          </div>\r\n\r\n          <input type=\"password\" formControlName=\"password2\" placeholder=\"Jelszó megerősítése\" minlength=\"8\">\r\n          <div *ngIf=\"passwordr2.invalid && (passwordr2.dirty || passwordr2.touched)\"\r\n            class=\"alert-danger\">\r\n            <div *ngIf=\"passwordr2.errors.required\">\r\n              Jelszó kitöltése költelező\r\n            </div>\r\n            <div *ngIf=\"passwordr2.errors.minlength\">\r\n              A jelszó legalább 8 karakter legyen!\r\n            </div>\r\n          </div>\r\n\r\n          <input type=\"text\" formControlName=\"cityName\" placeholder=\"A városod neve, amit építesz\">\r\n          <div *ngIf=\"cityNamer.invalid && (cityNamer.dirty || cityNamer.touched)\"\r\n            class=\"alert-danger\">\r\n            <div *ngIf=\"cityNamer.errors.required\">\r\n              Városnáv kitöltése költelező\r\n            </div>\r\n          </div>\r\n\r\n          <button class=\"auth-button\" type=\"submit\" [disabled]=\"!registerForm.valid\">Regisztráció</button>\r\n\r\n      </form>\r\n\r\n    <button *ngIf=\"!isReg\" class = \"mode-button\"\r\n    (click) = \"changeMode(true)\">Regisztráció</button>\r\n\r\n    <button *ngIf=\"isReg\" class = \"mode-button\"\r\n    (click) = \"changeMode(false)\">Bejelentkezés</button>\r\n  </mat-card>\r\n</div>\r\n"],"sourceRoot":"webpack:///"}